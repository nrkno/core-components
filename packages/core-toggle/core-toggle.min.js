!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.coreToggle=e()}(this,function(){"use strict";var t="undefined"!=typeof window,e=t&&/(android)/i.test(navigator.userAgent);t&&/iPad|iPhone|iPod/.test(String(navigator.platform));function n(t,e){var n=o(t),r="true"===t.getAttribute("aria-expanded"),i="boolean"==typeof e?e:"toggle"===e?!r:r,a=r===i||function(t,e,n){void 0===n&&(n={});var o;"function"==typeof window.CustomEvent?o=new window.CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n);return t.dispatchEvent(o)}(t,"toggle",{relatedTarget:n,isOpen:r})?i:r;return n[a?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",a),a}function o(t,n){var o=t.getAttribute("aria-controls")||t.getAttribute("aria-owns"),i=document.getElementById(o)||t.nextElementSibling,a=e?"data":"aria";if(!i)throw new Error("missing nextElementSibling on "+t.outerHTML);return n&&(t.setAttribute("aria-"+n,i.id=i.id||r()),i.setAttribute(a+"-labelledby",t.id=t.id||r())),i}function r(t,e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}function i(t,e){return void 0===e&&(e=document),t.nodeType?[t]:"string"==typeof t?[].slice.call(e.querySelectorAll(t)):t.length?[].slice.call(t):[]}var a,u,d,c,l="data-@nrk/core-toggle-1.0.0".replace(/\W+/g,"-"),f="aria-expanded",s="aria-haspopup";function p(t,e){var r="object"==typeof e?e:{open:e},a="boolean"==typeof r.open,u="boolean"==typeof r.popup;return i(t).forEach(function(t){var e=a?r.open:"true"===t.getAttribute(f),i=u?r.popup:"true"===t.getAttribute(s);return t.setAttribute(l,""),t.setAttribute(s,i),o(t,"controls"),n(t,e),t})}return u=function(t){var e=t.target;i("["+l+"]").forEach(function(t){var n="true"===t.getAttribute(f),r="true"===t.getAttribute(s);t.contains(e)?p(t,!n):r&&p(t,o(t).contains(e))})},d="blur"===(a="click")||"focus"===a,c=l+"-"+a,"undefined"==typeof window||window[c]||document.addEventListener(window[c]=a,u,d),p});
//# sourceMappingURL=core-toggle.min.js.map

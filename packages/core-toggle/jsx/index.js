!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["react","react-dom"],e):t.CoreToggle=e(t.React,t.ReactDOM)}(this,function(t,e){"use strict";t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var n="undefined"!=typeof window,o=n&&/(android)/i.test(navigator.userAgent);n&&/iPad|iPhone|iPod/.test(String(navigator.platform));function r(t,e){var n=i(t),o="true"===t.getAttribute("aria-expanded"),r="boolean"==typeof e?e:"toggle"===e?!o:o,a=o===r||function(t,e,n){void 0===n&&(n={});var o;"function"==typeof window.CustomEvent?o=new window.CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n}):(o=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n);return t.dispatchEvent(o)}(t,"toggle",{relatedTarget:n,isOpen:o})?r:o;return n[a?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",a),a}function i(t,e){var n=t.getAttribute("aria-controls")||t.getAttribute("aria-owns"),r=document.getElementById(n)||t.nextElementSibling,i=o?"data":"aria";if(!r)throw new Error("missing nextElementSibling on "+t.outerHTML);return e&&(t.setAttribute("aria-"+e,r.id=r.id||a()),r.setAttribute(i+"-labelledby",t.id=t.id||a())),r}function a(t,e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}function u(t,e){return void 0===e&&(e=document),t.nodeType?[t]:"string"==typeof t?[].slice.call(e.querySelectorAll(t)):t.length?[].slice.call(t):[]}var p,d,c,l,s="data-@nrk/core-toggle-1.0.0".replace(/\W+/g,"-"),f="aria-expanded",g="aria-haspopup";function b(t,e){var n="object"==typeof e?e:{open:e},o="boolean"==typeof n.open,a="boolean"==typeof n.popup;return u(t).forEach(function(t){var e=o?n.open:"true"===t.getAttribute(f),u=a?n.popup:"true"===t.getAttribute(g);return t.setAttribute(s,""),t.setAttribute(g,u),i(t,"controls"),r(t,e),t})}d=function(t){var e=t.target;u("["+s+"]").forEach(function(t){var n="true"===t.getAttribute(f),o="true"===t.getAttribute(g);t.contains(e)?b(t,!n):o&&b(t,i(t).contains(e))})},c="blur"===(p="click")||"focus"===p,l=s+"-"+p,"undefined"==typeof window||window[l]||document.addEventListener(window[l]=p,d,c);var m={open:null,popup:null};function y(t){b(e.findDOMNode(t).firstElementChild)}return function(e){function n(){e.apply(this,arguments)}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.componentDidMount=function(){y(this)},n.prototype.componentDidUpdate=function(){y(this)},n.prototype.render=function(){var e=this;return t.createElement("div",function(t,e){return Object.keys(t).reduce(function(n,o){return e.hasOwnProperty(o)||(n[o]=t[o]),n},{})}(this.props,m),t.Children.map(this.props.children,function(n,o){return t.cloneElement(n,o?{hidden:!e.props.open}:{"aria-expanded":String(Boolean(e.props.open)),"aria-haspopup":String(Boolean(e.props.popup))})}))},n}(t.Component)});
//# sourceMappingURL=index.js.map

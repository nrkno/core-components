<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <title>@nrk/core-components</title>
  <link rel="stylesheet" href="https://static.nrk.no/core-fonts/latest/core-fonts.min.css">
  <link rel="stylesheet" href="https://static.nrk.no/core-css/latest/core-css.min.css">
  <link rel="stylesheet" href="examples.css">
</head>
<body class="docs-style">
  <ul class="docs-menu nrk-color-shade-1">
    <li><a href="#">Getting started</a></li>
    <li><a href="#toggle">Toggle</a></li>
    <li><a href="#input">Input</a></li>
    <li><a href="#dialog">Dialog</a></li>
    <li><a href="#datepicker">Datepicker</a></li>
    <li><a href="#faq">FAQ</a></li>
    <li><label><input type="checkbox" checked onchange="document.body.classList.toggle('docs-style')"> Example style</label></li>
  </ul>

  <article class="docs-page">
    <h2>@nrk/core-components <!--version--></h2>
    <h3>Getting started</h3>
    <p>
      There are vast differences between screen readers, browsers and how specifications
      actually affect end users. <code class="prettyprint">core-components</code> provides easy,
      unstyled, independent and accessible components, taking away the hard work of normalizing basic interactions.
      All components are bound to version (allowing multiple instances without conflicts) and are available for both <a href="https://stackoverflow.com/questions/20435653/what-is-vanillajs" target="_blank">VanillaJS</a>
      and <a href="https://reactjs.org/" target="_blank">React</a>
      (and <a href="https://preactjs.com/" target="_blank">preact</a> with
      <a href="https://github.com/developit/preact-compat" target="_blank">preact-compat</a>).
      <small><em>Note: This is the first version of core-components -
      <a href="https://github.com/nrkno/core-components/issues/" target="_blank">feedback</a>
      and testing is welcome!</em></small>
    </p>
    <p>
      <small><strong>Note:</strong> Styling in this documentation is only for demonstration purposes.</small>
    </p>
    <details>
      <summary><h3>Use from NPM</h3> - recommended</summary>
      <h3>Shell</h3>
      <pre class="prettyprint">npm install @nrk/<strong>core-toggle</strong> --save         # Components are individually installed to achieve individual versioning</pre>
      <h3>Javascript</h3>
      <pre class="prettyprint">import coreToggle from '@nrk/<strong>core-toggle</strong>'   // Vanilla JS
import Toggle from '@nrk/<strong>core-toggle</strong>/jsx'   // ...or React/Preact compatible JSX</pre>
    </details>
    <details>
      <summary><h3>Use with Require.js</h3> - old school</summary>
      <pre class="prettyprint">&lt;script&gt;
  require(['https://static.nrk.no/core-components/X.X.X/core-components.min.js'], function(coreComponents) {
    // use coreComponents.toggle() etc here
  });
&lt;/script&gt;</pre>
    </details>
    <details>
      <summary><h3>Use with script tag</h3> - good for prototyping, avoid in production</summary>
      <pre class="prettyprint">&lt;script src="https://static.nrk.no/core-components/X.X.X/core-components.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  // use coreComponents.Toggle() here
&lt;/script&gt;</pre>
    </details>
    <h3>Browser support</h3>
    <div class="nrk-grid docs-support">
      <div class="nrk-color-shade-1"><img alt="" src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/42.7.1/edge/edge_24x24.png"><br>IE/Edge<br>9+</div>
      <div class="nrk-color-shade-1"><img alt="" src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/42.7.1/archive/firefox_3.5-22/firefox_3.5-22_24x24.png"><br>Firefox<br>29+</div>
      <div class="nrk-color-shade-1"><img alt="" src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/42.7.1/archive/chrome_12-48/chrome_12-48_24x24.png"><br>Chrome<br>32+</div>
      <div class="nrk-color-shade-1"><img alt="" src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/42.7.1/safari/safari_24x24.png"><br>Safari<br>7.1+</div>
      <div class="nrk-color-shade-1"><img alt="" src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/42.7.1/opera/opera_24x24.png"><br>Opera<br>19+</div>
      <div class="nrk-color-shade-1"><img alt="" src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/42.7.1/archive/safari-ios_1-6/safari-ios_1-6_24x24.png"><br>iOS Safari<br>10.2+</div>
      <div class="nrk-color-shade-1"><img alt="" src="https://cdnjs.cloudflare.com/ajax/libs/browser-logos/42.7.1/android/android_24x24.png"><br>Android<br>4.4.4+</div>
    </div>
    <h3>Shortcuts</h3>
    <p>
      <a class="nrk-button" target="_top" href="https://github.com/nrkno/core-components">View on Github</a>
      <a class="nrk-button" target="_top" href="https://github.com/nrkno/core-components/releases/latest">View latest release</a>
      <a class="nrk-button" target="_blank" href="https://nrk.slack.com/messages/C49CY4VTP/">#core on NRK Slack</a>
    </p>


    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
    <!-- Toggle -->
    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->

    <h2 id="toggle">Toggle</h2>
    <p>
      <code class="prettyprint">core-toggle</code> simply makes a
      <code class="prettyprint">&lt;button&gt;</code> toggle the visibility of next element sibling.
      <code class="prettyprint">core-toggle</code> supports nestability, and can easily be extended with custom animations or behavior
      through the <a href="https://www.w3schools.com/jsref/event_ontoggle.asp" target="_blank">toggle event</a>.
      It has two modes:
    </p>
    <div class="nrk-grid">
      <div class="nrk-xs-12of12 nrk-md-6of12">
        <h3>Default toggle</h3>
        <p><small>
          Content is only toggled when clicking <code class="prettyprint">&lt;button&gt;</code>.
          Great for accordions and expand/collapse panels.
        </small></p>
        <button class="docs-toggle docs-button js">Example toggle</button>
        <div hidden>Content</div>
        <div id="docs-react-toggle"></div>
      </div>
      <div class="nrk-xs-12of12 nrk-md-6of12">
        <h3>Popup toggle</h3>
        <p><small>
          Content is toggled when clicking <code class="prettyprint">&lt;button&gt;</code>, and
          closed when clicking outside content. Great for dropdowns and tooltips.
        </small></p>
        <button class="docs-dropdown docs-button js" aria-expanded="false">Example dropdown</button>
        <ul class="docs-drop" hidden>
          <li><a href="#">Link</a></li>
          <li>
            <button class="docs-dropdown docs-button js">Can also be nested</button>
            <ul class="docs-drop">
              <li><a href="#">Sub-link</a></li>
              <li><button>Sub-button</button></li>
            </ul>
          </li>
        </ul>
        <div id="docs-react-dropdown"></div>
        <button class="docs-dropdown js docs-tip docs-button" aria-expanded="false">Example tooltip</button>
        <div class="docs-drop" hidden>Some help text</div>
      </div>
    </div>
    <h3>Usage</h3><br>
    <details>
      <summary>Use with VanillaJS</summary>
        <h3>HTML &mdash; CLOSED</h3>
        <pre class="prettyprint">&lt;button&gt;Closed example&lt;button&gt; &lt;!-- Clickable element must be a &lt;button&gt;. Tip: Easily style buttons with <a href="https://static.nrk.no/core-css/latest/#utilities" target="_blank">.nrk-unset</a> --&gt;
&lt;div hidden&gt;Content&lt;/div&gt;      &lt;!-- <a href="https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/hidden" target="_blank">hidden attribute</a> is used here to avoid <a href="https://en.wikipedia.org/wiki/Flash_of_unstyled_content" target="_blank">flash of unstyled content</a> --&gt;</pre>
<h3>HTML &mdash; OPEN</h3>
<pre class="prettyprint">&lt;button aria-expanded="true"&gt;Open example&lt;button&gt;
&lt;div&gt;Content&lt;/div&gt;
</pre>
        <h3>Javascript</h3>
        <pre class="prettyprint">import coreToggle from '@nrk/core-toggle'

coreToggle(String|Element|Elements, { // Accepts a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="
">selector string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList" target="_blank">NodeList</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element" target="_blank">Element</a> or array of Elements
  open: null,                         // Defaults to value of aria-expanded or false. Use true|false to force open state
  popup: null                         // Defaults to value of aria-haspopup or false. Use true|false to force popup mode
})

// Example:
coreToggle('.my-toggle')
coreToggle('.my-dropdown', {popup: true})
</pre>
    </details>
    <details>
      <summary>Use with React/Preact</summary>
        <p>
          All <code class="prettyprint">&lt;Toggle&gt;</code> props are optional. Toggle will handle
          it's own state unless you run <code class="prettyprint">event.preventDefault()</code> in
          onToggle (no need to updated props). Non-settings props (like <code class="prettyprint">className</code>,
          <code class="prettyprint">style</code> etc.) will be applied as actual attributes.
        </p>
        <pre class="prettyprint">import Toggle from '@nrk/core-toggle/jsx'

&lt;Toggle open={false} popup={false} onToggle={function(){}}&gt;
  &lt;button&gt;Use with JSX&lt;/button&gt;  // First element must result in a &lt;button&gt;-tag. Accepts both elements and components
  &lt;div&gt;Content&lt;/div&gt;             // Next element will be toggled. Accepts both elements and components
&lt;/Toggle&gt;</pre>
    </details>
    <details>
      <summary>Events</summary>
      <p>
        Before a <code class="prettyprint">core-toggle</code> changes open state,
        a <a href="https://www.w3schools.com/jsref/event_ontoggle.asp" target="_blank">toggle event</a>
        is fired (both for VanillaJS and React/Preact components).
        The toggle event is cancelable, meaning you can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault" target="_blank"><code class="prettyprint">event.preventDefault()</code></a>
        to cancel toggling. The event also <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture" target="_blank">bubbles</a>,
        and can therefore be detected both from button element itself, or any parent element (read <a href="https://stackoverflow.com/questions/1687296/what-is-dom-event-delegation" target="_blank">event delegation</a>):
      </p>
      <pre class="prettyprint">document.addEventListener('toggle', (event) => {
  event.target                // The button element triggering toggle event
  event.detail.relatedTarget  // The content element controled by button
  event.detail.isOpen         // The current toggle state (before toggle event has run)
})</pre>
    </details>
    <details>
      <summary>Styling</summary>
      <p>
        Both the toggle button and toggle content receive attributes reflecting the current state. Example:
      </p>
      <pre class="prettyprint">
.my-example-toggle-button {}                        /* Target button in any state */
.my-example-toggle-button[aria-expanded="true"] {}  /* Target only open button */
.my-example-toggle-button[aria-expanded="false"] {} /* Target only closed button */

.my-example-toggle-content {}                       /* Target content in any state */
.my-example-toggle-content:not([hidden]) {}         /* Target only open content */
.my-example-toggle-content[hidden] {}               /* Target only closed content */
</pre>
    </details>

    <h3>FAQ</h3><br>
    <details>
      <summary>Why not use <code class="prettyprint">&lt;details&gt;</code> instead?</summary>
      <p>
        Despite having a native <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details"><code class="prettyprint">&lt;details&gt;</code></a>
        element for expanding/collapsing content, there are several issues regarding <a target="_blank" href="https://caniuse.com/#feat=details">browser support</a>,
        <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/details#Example_with_styling">styling</a> and
        <a target="_blank" href="http://accessibleculture.org/articles/2012/03/screen-readers-and-details-summary/">accessibility</a>.
        Furthermore, polyfills often conflict with other standards such as <code class="prettyprint">&lt;dialog&gt;</code>.
      </p>
    </details>
    <details>
      <summary>Why is there no <code class="prettyprint">role="menu"</code> in dropdowns?</summary>
      <p>
        The <a href="https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html" target="_blank">menu role</a>
        is mainly inteded for context menues and toolbars in <a href="https://www.w3.org/TR/wai-aria-1.1/#application" target="_blank">application interfaces</a>,
        and has quite complex <a href="https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html#kbd_label">keyboard navigation requirements</a>.
        As most end users will not expect application behavior in websites and internal web based systems, (implemented)
        attributes like <code class="prettyprint">aria-controls</code> and <code class="prettyprint">aria-labelledby</code>
        is sufficient for a good user experience.
      </p>
    </details>
    <details>
      <summary>Why does dropdowns not open on hover?</summary>
      <p>
        Both touch devices and screen readers will have trouble properly
        interacting with hoverable interfaces (unless more complex fallback logic is implemented).
        To achieve a consistent and accessible interface, <code class="prettyprint">core-toggle</code>
        is designed around click interactions.
      </p>
    </details>
    <details>
      <summary>Why is there no group-option to achieve a single open toggle?</summary>
      <p>
        Some expand/collapse interfaces like <a href="https://www.nngroup.com/articles/accordions-complex-content/" target="_blank">accordions</a>
        behaves like a group - allowing only one expanded area at the time. This pattern however
        requires more logic and carefully designed animations to avoid confusion over expected scroll position.
      </p>
      <p>
        <small><em>Example: The user first opens "Toggle-1", and then "Toggle-2" (which closes "Toggle-1").
        Since "Toggle-1" is placed above, the position "Toggle-2" now changes -
        potentially outside the viewport on smaller devices.</em></small>
      </p>
      <p>
        <small><em>Note: If you do need to implement grouping, you can achieve this by
        closing other toggles on the <code class="prettyprint">toggle</code> event.</em></small>
      </p>
    </details>


    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
    <!-- INPUT -->
    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->

    <h2 id="input">Input</h2>
    <p>
      <code class="prettyprint">core-input</code> enhances
      <code class="prettyprint">&lt;input&gt;</code> fields with keyboard accessible
      functionality for autocomplete suggestions, search results and smart selectbox abilities.
      <code class="prettyprint">core-input</code> has a default filtering behavior,
      but can easily be customized through the <code class="prettyprint">'input.select'</code>
      and <code class="prettyprint">'input.filter'</code> events. Examples:
    </p>
    <div class="nrk-grid">
      <div class="nrk-xs-12of12 nrk-md-6of12 nrk-lg-3of12">
        <h3>Default filtering</h3>
        <p><small>
          Typing in a <code class="prettyprint">core-input</code> automatically toggles
          the <code class="prettyprint"><a href="https://developer.mozilla.org/en/docs/Web/HTML/Global_attributes/hidden" target="_blank">hidden</a></code> attribute on <code class="prettyprint">&lt;button&gt;</code>
          and <code class="prettyprint">&lt;a&gt;</code> tags based on matches in <code class="prettyprint"><a href="https://developer.mozilla.org/en-US/docs/Web/API/Node/textContent" target="_blank">textContent</a></code>.
          <br>Source: <a href="https://github.com/nrkno/core-components/blob/master/bundle/examples/core-input.js" target="_blank">JS</a> | <a href="https://github.com/nrkno/core-components/blob/master/bundle/examples/core-input.jsx" target="_blank">JSX</a>
        </small></p>
        <input type="text" class="js docs-input docs-button" minlength="1" placeholder="Type &quot;C&quot;...">
        <ul class="docs-drop" hidden>
          <li><button>Chrome</button></li>
          <li><button>Firefox</button></li>
          <li><button>Opera</button></li>
          <li><button>Safari</button></li>
          <li><button>Microsoft Edge</button></li>
        </ul>
        <div id="docs-react-input"></div>
      </div>
      <div class="nrk-xs-12of12 nrk-md-6of12 nrk-lg-3of12">
        <h3>Example: ajax</h3>
        <p><small>
          You can stop default filtering by calling <code class="prettyprint">event.preventDefault()</code>
          on <code class="prettyprint">'input.filter'</code>. Always escape html and debounce requests when fetching data from external sources.
          <br>Source: <a href="https://github.com/nrkno/core-components/blob/master/bundle/examples/core-input-ajax.js" target="_blank">JS</a> | <a href="https://github.com/nrkno/core-components/blob/master/bundle/examples/core-input-ajax.jsx" target="_blank">JSX</a>
        </small></p>
        <input type="text" class="js docs-input-ajax docs-button" minlength="1" placeholder="Type &quot;nytt&quot;...">
        <ul class="docs-drop" hidden></ul>
        <div id="docs-react-input-ajax"></div>
      </div>
      <div class="nrk-xs-12of12 nrk-md-6of12 nrk-lg-3of12">
        <h3>Example: lazy</h3>
        <p><small>
          You can also do a hybrid; lazy load items, but let <code class="prettyprint">core-input</code>
          still handle filtering.
          <br>Source: <a href="https://github.com/nrkno/core-components/blob/master/bundle/examples/core-input-lazy.js" target="_blank">JS</a> | <a href="https://github.com/nrkno/core-components/blob/master/bundle/examples/core-input-lazy.jsx" target="_blank">JSX</a>
        </small></p>
        <input type="text" class="js docs-input-lazy docs-button" minlength="1" placeholder="Type &quot;B&quot;...">
        <ul class="docs-drop" hidden></ul>
        <div id="docs-react-input-lazy"></div>
      </div>
      <div class="nrk-xs-12of12 nrk-md-6of12 nrk-lg-3of12">
        <h3>Example: dynamic</h3>
        <p><small>
          You can also do synchronous operations,
          like dynamically populating items based input value.
          <br>Source: <a href="https://github.com/nrkno/core-components/blob/master/bundle/examples/core-input-dynamic.js" target="_blank">JS</a> | <a href="https://github.com/nrkno/core-components/blob/master/bundle/examples/core-input-dynamic.jsx" target="_blank">JSX</a>
        </small></p>
        <input type="text" class="js docs-input-dynamic docs-button" minlength="1" placeholder="Type your email...">
        <ul class="docs-drop" hidden></ul>
        <div id="docs-react-input-dynamic"></div>
      </div>
    </div>
    <br><h3>Usage</h3><br>
    <details>
      <summary>Use with VanillaJS</summary>
        <p><em><strong>Important:</strong> Use <code class="prettyprint">coreInput.escapeHTML(String)</code> to safely render data from API or user.</em></p>
        <h3>HTML</h3>
        <pre class="prettyprint">&lt;input type="text" class="my-input"&gt; &lt;!-- Input element must be a &lt;input&gt; --&gt;
&lt;ul hidden&gt;                          &lt;!-- Items can be any tag, but items should be wrappend in &lt;li&gt; --&gt;
  &lt;li&gt;&lt;button type="button"&gt;Item 1&lt;/button&gt;&lt;/li&gt;                  &lt;!-- Interactive items must be &lt;button&gt; or &lt;a&gt; --&gt;
  &lt;li&gt;&lt;button type="button" value="Suprise!"&gt;Item 2&lt;/button&gt;&lt;/li&gt; &lt;!-- Alternative value can be defined --&gt;
  &lt;li&gt;&lt;a href="https://www.nrk.no/"&gt;NRK.no&lt;/a&gt;&lt;/li&gt;               &lt;!-- Actual links are recommended when applicable --&gt;
&lt;/ul&gt;</pre>
        <h3>Javascript</h3>
        <pre class="prettyprint">import coreInput from '@nrk/core-input'

coreInput(String|Element|Elements, {  // Accepts a <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Selectors" target="
">selector string</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/NodeList" target="_blank">NodeList</a>, <a href="https://developer.mozilla.org/en-US/docs/Web/API/Element" target="_blank">Element</a> or array of Elements
  open: null,                         // Defaults to value of aria-expanded or false. Use true|false to force open state
  items: null                         // Set new string of HTML items. HTML is used for full flexibility on markup
})

// Example:
coreInput('.my-input')
coreInput('.my-input', {open: true})
coreInput('.my-input', {open: true, items: '&lt;li&gt;No hits&lt;/li&gt;'}) // Open and set items
coreInput('.my-input', '&lt;li&gt;&lt;button type="button"&gt;Item&lt;/button&gt;&lt;/li&gt;') // Second arument can also be items
coreInput('.my-input', '&lt;li&gt;&lt;a href="?q=' + coreInput.escapeHTML(input.value) + '"&gt;More results&lt;/a&gt;&lt;/li&gt;') // escape html
coreInput('.my-input', '&lt;li&gt;&lt;a href="#"&gt;' + coreInput.highlight(item.text, input.value) + '&lt;/a&gt;&lt;/li&gt;') // highlight match

// Helpers:
coreInput.escapeHTML(String)          // Escapes string to safely be used in markup
coreInput.highlight(haystack, needle) // Escapes haystack and wraps all instances of needle in &lt;mark&gt; tag
</pre>
    </details>
    <details>
      <summary>Use with React/Preact</summary>
        <p>
          All <code class="prettyprint">&lt;Input&gt;</code> props are optional. Input will handle
          its own state unless you run <code class="prettyprint">event.preventDefault()</code> in
          <code class="prettyprint">onFilter</code> or <code class="prettyprint">onSelect</code>.
          Non-settings props (like <code class="prettyprint">className</code>,
          <code class="prettyprint">style</code> etc.) will be applied as actual attributes.
        </p>
        <pre class="prettyprint">import Toggle from '@nrk/core-toggle/jsx'

&lt;Input open={false} onFilter={function(){}} onSelect={function(){}}&gt;
  &lt;input type="text" /&gt;   // First element must result in a &lt;input&gt;-tag. Accepts both elements and components
  &lt;ul&gt;                    // Next element will be used for items. Accepts both elements and components
    &lt;li&gt;&lt;button type="button"&gt;Item 1&lt;/button&gt;&lt;/li&gt;                  // Interactive items must be &lt;button&gt; or &lt;a&gt;
    &lt;li&gt;&lt;button type="button" value="Suprise!"&gt;Item 2&lt;/button&gt;&lt;/li&gt; // Alternative value can be defined
    &lt;li&gt;&lt;a href="https://www.nrk.no/"&gt;NRK.no&lt;/a&gt;&lt;/li&gt;               // Actual links are recommended when applicable
  &lt;/ul&gt;
&lt;/Toggle&gt;</pre>
    </details>
    <details>
      <summary>Events</summary>
      <h3>input.filter</h3>
      <p><small>
        Before a <code class="prettyprint">core-input</code> filters items,
        a <code class="prettyprint">'input.filter'</code> event
        is fired (both for VanillaJS and React/Preact components).
        The input.filter event is cancelable, meaning you can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault" target="_blank"><code class="prettyprint">event.preventDefault()</code></a>
        to cancel default filtering and respond to users typing yourself. The event also <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture" target="_blank">bubbles</a>,
        and can therefore be detected both from button element itself, or any parent element (read <a href="https://stackoverflow.com/questions/1687296/what-is-dom-event-delegation" target="_blank">event delegation</a>):
      </small></p>
      <pre class="prettyprint">document.addEventListener('input.filter', (event) => {
  event.target                // The core-input element triggering input.filter event
  event.detail.relatedTarget  // The items element controled by input
})</pre>
      <h3>input.select</h3>
      <p><small>
        When the user clickes/selects a item,
        a <code class="prettyprint">'input.select'</code> event
        is fired (both for VanillaJS and React/Preact components).
        The input.select event is cancelable, meaning you can use <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/preventDefault" target="_blank"><code class="prettyprint">event.preventDefault()</code></a>
        to cancel replacing the input value and handle select-action yourself. The event also <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Building_blocks/Events#Event_bubbling_and_capture" target="_blank">bubbles</a>,
        and can therefore be detected both from button element itself, or any parent element (read <a href="https://stackoverflow.com/questions/1687296/what-is-dom-event-delegation" target="_blank">event delegation</a>):
      </small></p>
<pre class="prettyprint">document.addEventListener('input.select', (event) => {
  event.target                // The core-input element triggering input.filter event
  event.detail.relatedTarget  // The items element controled by input
  event.detail.currentTarget  // The item clicked/selected
  event.detail.value          // The item value
})</pre>
    </details>
    <details>
      <summary>Styling</summary>
      <p>
        Both the input and items element receive attributes reflecting the current state. Example:
      </p>
      <pre class="prettyprint">
.my-example-input {}                              /* Target input in any state */
.my-example-input[aria-expanded="true"] {}        /* Target only open button */
.my-example-input[aria-expanded="false"] {}       /* Target only closed button */

.my-example-input-items-element {}                /* Target items element in any state */
.my-example-input-items-element:not([hidden]) {}  /* Target only open content */
.my-example-input-items-element[hidden] {}        /* Target only closed content */

.my-example-input-items-element :focus {}         /* Target focused items */
.my-example-input-items-element mark {}           /* Target hightlight element */

/* Tip: Easily style buttons with <a href="https://static.nrk.no/core-css/latest/#utilities" target="_blank">.nrk-unset</a> */
</pre>
    </details>

    <h3>FAQ</h3><br>
    <details>
      <summary>Why not use <code class="prettyprint">&lt;datalist&gt;</code> instead?</summary>
      <p>
        Despite having a native <a target="_blank" href="https://developer.mozilla.org/en-US/docs/Web/HTML/Element/datalist"><code class="prettyprint">&lt;datalist&gt;</code></a>
        element for autocomplete lists, there are several issues regarding <a target="_blank" href="https://caniuse.com/#feat=details">browser support</a>,
        varying <a target="_blank" href="http://accessibleculture.org/articles/2012/03/screen-readers-and-details-summary/">accessibility</a> support
        as well as no ability for custom styling or custom behavior.
      </p>
    </details>
    <details>
      <summary>Why is there only a subset of aria attributes in use?</summary>
      <p>
        Despite well documented <a href="https://www.w3.org/TR/2017/NOTE-wai-aria-practices-1.1-20171214/examples/combobox/aria1.1pattern/listbox-combo.html" target="_blank">examples in the aria 1.1 spesification</a>,
        "best practice" simply becomes unusable in several screen reader due to implementation differences.
        <code class="prettyprint">core-input</code> aims to provide a equally good user experience regardless
        if a screen reader passes events to browser or not (events are often hijacked for quick-navigation).
        Several techniques and attributes have been thoroughly tested:
      </p>
      <ul>
        <li><small><code class="prettyprint">aria-activedescendant</code>/<code class="prettyprint">aria-selected</code> - ignored in Android, lacks indication of list length in JAWS</small></li>
        <li><small><code class="prettyprint">aria-owns</code> - full list is read for every keystroke in NVDA</small></li>
        <li><small><code class="prettyprint">role="listbox"</code> - VoiceOver needs aria-selected to falsely announce "0 selected"</small></li>
        <li><small><code class="prettyprint">role="option"</code> - falsely announces links and buttons as "text"</small></li>
        <li><small><code class="prettyprint">aria-live="assertive"</code> - fails to correctly inform user if current target is link or button</small></li>
        <li><small><code class="prettyprint">role="combobox"</code> - skipped in iOS as VoiceOver fails to inform current field is editable</small></li>
      </ul>
    </details>
    <details>
      <summary>How do I use core-input with multiple tags/output values?</summary>
      <p>
        Tagging and screen readers is a complex matter, requiring more than comma separated values.
        Currently, tagging is just a part of the wishlist for <code class="prettyprint">core-input</code>.
        If tagging functionality is of interest for your project, please add a +1 to
        the <a href="https://github.com/nrkno/core-components/issues/9" target="_blank">tagging task</a>,
        describe your needs in a comment, and you'll be updated about progress.
      </p>
    </details>


    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
    <!-- DATEPICKER -->
    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->

    <h2 id="datepicker">Datepicker</h2>
    <input type="text" class="js docs-datepicker docs-button">
    <div class="docs-drop">

    </div>


    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
    <!-- DIALOG -->
    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->

    <h2 id="dialog">Dialog</h2>
    <p>Work in progress</p>


    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
    <!-- Accessibility -->
    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->

    <!--<h2 id="a11y">Accessibility</h2>
    <p>
      <em>Todo: Style and compononentify</em>
    </p>
    <div>
      <label>
        Choose a browser:
        <select>
          <option>Chrome</option>
          <option>Firefox</option>
          <option>Internet Explorer</option>
          <option>Opera</option>
          <option>Safari</option>
          <option>Microsoft Edge</option>
        </select>
      </label>
    </div>
    <div class="nrk-grid">
      <div class="nrk-xs-12of12 nrk-md-5of12" style="padding-right:15px">
        <h3>Checkbox (multiple choice)</h3><br>
        <fieldset>
          <legend>Topping</legend>
          <label><input type="checkbox" class="nrk-choice"><span>Pepperoni</span></label>
          <label><input type="checkbox" class="nrk-choice"><span>Ham</span></label>
          <label><input type="checkbox" class="nrk-choice"><span>Pineapple</span></label>
          <label><input type="checkbox" class="nrk-choice"><span>Mushroom</span></label>
        </fieldset>
      </div>
      <div class="nrk-xs-12of12 nrk-md-5of12" style="padding-right:15px">
        <h3>Radio (single choice)</h3><br>
        <fieldset>
          <legend>Coffee or tea?</legend>
          <label><input type="radio" name="drink" class="nrk-choice"><span>Coffee</span></label>
          <label><input type="radio" name="drink" class="nrk-choice"><span>Tea</span></label>
        </fieldset>
      </div>
    </div>-->


    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->
    <!-- FAQ -->
    <!-- =-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-=-= -->

    <h2 id="faq">FAQ</h2>
    <h3>Who can I contact for requests, feedback and questions?</h3>
    <p>
      This is the first version of core-components - <a href="https://github.com/nrkno/core-components/issues/" target="_blank">feedback</a>
      and testing is welcome! Feel free to <a href="https://github.com/nrkno/core-components/issues/" target="_blank">submit an issue</a>
      or (if employed at  NRK) slack us at <code class="prettyprint">#core</code>
    </p>
    <h3>What screen readers is supported by core-components?</h3>
    <p>
      core-components has been developed with extensive testing in
      major screen readers: Mac + iOS (VoiceOver),  Windows (NVDA + JAWS), TalkBack (Android).
    </p>
    <h3>How can I request a new components?</h3>
    <p>
      Please see if your <a href="https://github.com/nrkno/core-components/issues?q=is%3Aissue+is%3Aopen+Component+request">component request</a> already exists, and add a +1 reaction if found.
      For <a href="https://github.com/nrkno/core-components/issues/new?title=Component%20Request:%20&labels=enhancement" target="_blank">new component requests</a>,
      describe how you plan to use the components and functionality to be covered.
    </p>
    <h3>Where are the form elements?</h3>
    <p>
      HTML form elements are accessible by nature, and have quite compatible and well documented native APIs.
      Best practices and styling tips is not a pure functionality concern, and therefore not covered by core-components, for now.
    </p>
  </article>

  <!-- JS setup -->
  <script src="https://unpkg.com/react@16/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"></script>
  <script>PropTypes = {}</script>
  <script src="https://cdn.jsdelivr.net/npm/preact/dist/preact.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/preact-compat/dist/preact-compat.min.js"></script>
  <script>React = ReactDOM = preactCompat</script>
  <script src="examples.min.js"></script>

  <!-- RequireJS setup -->
  <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.5/require.js"></script>
  <script>
    requirejs(['core-components.min.js'], function (coreComponents) {
      coreComponents.toggle('.js.docs-toggle') // Testing multiple initializtions
    })
  </script> -->

  <!-- Docs setup -->
  <script async src="https://cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
  <script async src="https://static.nrk.no/core-icons/2.4.1/core-icons.min.js"></script>
</body>
</html>

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.coreComponents={})}(this,function(t){"use strict";var e="undefined"!=typeof window,n=e&&/(android)/i.test(navigator.userAgent),r=e&&/iPad|iPhone|iPod/.test(String(navigator.platform));function i(t,e,n){var r="blur"===e||"focus"===e,i=t+"-"+e;"undefined"==typeof window||window[i]||document.addEventListener(window[i]=e,n,r)}function o(t,e){var r=t.getAttribute("aria-controls")||t.getAttribute("aria-owns"),i=document.getElementById(r)||t.nextElementSibling,o=n?"data":"aria";if(!i)throw new Error("missing nextElementSibling on "+t.outerHTML);return e&&(t.setAttribute("aria-"+e,i.id=i.id||l()),i.setAttribute(o+"-labelledby",t.id=t.id||l())),i}var a={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","/":"&#x2F;","'":"&#x27;"};function u(t){return String(t||"").replace(/[&<>"'/]/g,function(t){return a[t]})}function c(t,e,n){var r;return void 0===n&&(n={}),"function"==typeof window.CustomEvent?r=new window.CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n}):(r=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,n),t.dispatchEvent(r)}function l(t,e){return Date.now().toString(36)+Math.random().toString(36).slice(2,5)}function d(t,e){return void 0===e&&(e=document),t.nodeType?[t]:"string"==typeof t?[].slice.call(e.querySelectorAll(t)):t.length?[].slice.call(t):[]}var f="data-@nrk/core-toggle-1.0.0".replace(/\W+/g,"-"),s="aria-expanded",p="aria-haspopup";function g(t,e){var n="object"==typeof e?e:{open:e},r="boolean"==typeof n.open,i="boolean"==typeof n.popup;return d(t).forEach(function(t){var e=r?n.open:"true"===t.getAttribute(s),a=i?n.popup:"true"===t.getAttribute(p);return t.setAttribute(f,""),t.setAttribute(p,a),o(t,"controls"),function(t,e){var n=o(t),r="true"===t.getAttribute("aria-expanded"),i="boolean"==typeof e?e:"toggle"===e?!r:r,a=r===i||c(t,"toggle",{relatedTarget:n,isOpen:r})?i:r;n[a?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",a)}(t,e),t})}i(f,"click",function(t){var e=t.target;d("["+f+"]").forEach(function(t){var n="true"===t.getAttribute(s),r="true"===t.getAttribute(p);t.contains(e)?g(t,!n):r&&g(t,o(t).contains(e))})});var b="data-@nrk/core-input-1.0.0".replace(/\W+/g,"-"),v={ENTER:13,SHIFT:16,ESC:27,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,UP:38,DOWN:40},m=r?"data-role":"role",E='[tabindex="-1"]';function y(t,e){var n="object"==typeof e?e:{items:e},r="string"==typeof n.items;return d(t).forEach(function(t){var e=t.nextElementSibling;return t.setAttribute(b,""),t.setAttribute(m,"combobox"),t.setAttribute("autocomplete","off"),t.setAttribute("aria-autocomplete","list"),r&&(e.innerHTML=n.items),d("a,button",e).forEach(w),h(t,n.open),t})}function A(t){t.ctrlKey||t.altKey||t.metaKey||t.defaultPrevented||d("["+b+"]").forEach(function(e){var n=e.nextElementSibling,r=e===t.target||n.contains(t.target),i=r&&"click"===t.type&&d(E,n).filter(function(e){return e.contains(t.target)})[0];i?function(t,e){if(c(t,"input.select",e)){var n=e.currentTarget;t.value=n.value||n.textContent.trim(),t.focus(),h(t,!1)}}(e,{relatedTarget:n,currentTarget:i}):h(e,r)})}function x(t,e){var n=t.nextElementSibling,r=d(E+":not([hidden])",n),i=r.indexOf(document.activeElement),o=!1;e.keyCode===v.END||e.keyCode===v.PAGEDOWN?o=r.pop():e.keyCode===v.HOME||e.keyCode===v.PAGEUP?o=r[0]:e.keyCode===v.DOWN?o=r[i+1]||r[0]:e.keyCode===v.UP?o=r[i-1]||r.pop():e.keyCode!==v.SHIFT&&e.keyCode!==v.ENTER&&t.focus(),h(t,e.keyCode!==v.ESC),!1!==o&&e.preventDefault(),o&&o.focus()}function h(t,e){void 0===e&&(e="true"===t.getAttribute("aria-expanded")),t.nextElementSibling[e?"removeAttribute":"setAttribute"]("hidden",""),t.setAttribute("aria-expanded",e)}function w(t,e,n){t.hasAttribute("aria-label")||t.setAttribute("aria-label",t.textContent.trim()+", "+(e+1)+" av "+n.length),t.setAttribute("tabindex","-1")}i(b,"click",A),i(b,"focus",A),i(b,"input",function(t){var e=t.target;if(e.hasAttribute(b)){var n=e.value.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")||".^",r=new RegExp(n,"gi");!function(t,e){c(t,"input.type",e)&&d(E,t.nextElementSibling).reduce(function(e,n){var r=-1!==n.textContent.toLowerCase().indexOf(t.value.toLowerCase());return n[r?"removeAttribute":"setAttribute"]("hidden",""),r?e.concat(n):e},[]).forEach(w)}(e,{relatedTarget:e.nextElementSibling,render:function(t){return y(e,{items:t})},highlight:function(t){return u(t).replace(r,"<mark>$&</mark>")},escapeHTML:u,regex:r})}}),i(b,"keydown",function(t){if(!(t.ctrlKey||t.altKey||t.metaKey)){if(t.target.hasAttribute(b))return x(t.target,t);for(var e=t.target,n=void 0;e;e=e.parentElement)if((n=e.previousElementSibling)&&n.hasAttribute(b))return x(n,t)}}),t.toggle=g,t.input=y,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=core-components.min.js.map
